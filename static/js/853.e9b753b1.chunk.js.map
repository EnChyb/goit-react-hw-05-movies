{"version":3,"file":"static/js/853.e9b753b1.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","components/API.js","webpack://react-homework-template/./src/components/SearchInput/SearchInput.module.css?3e06","components/SearchInput/SearchInput.jsx","webpack://react-homework-template/./src/components/SearchResults/SearchResults.module.css?b68e","components/SearchResults/SearchResults.jsx","webpack://react-homework-template/./src/components/LoadMore/LoadMore.module.css?b3ea","components/LoadMore/LoadMore.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","// fef97f82d8d49085ce239f9b3e3e2fad\n\nexport const placeholderImg = \"https://picsum.photos/200/300\";\nexport const posterURL = \"https://image.tmdb.org/t/p/w300\";\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmZWY5N2Y4MmQ4ZDQ5MDg1Y2UyMzlmOWIzZTNlMmZhZCIsInN1YiI6IjY1ZTg2ZjRiYTFhOWJhMDE4NWJmMmQwMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.N52ZU8Yy9IzrON1WX2UYvsIciDECC_sAUCcmjx29Yxs'\n  }\n}\n\n// fetching function\nconst fetchData = async (url) => {\n  // try {\n    const response = await fetch(url, options);\n    console.log(response)\n    // if (response.ok===false) return;\n    const responseJSON = await response.json()\n    console.log(responseJSON)\n    if (!response.ok) {\n      throw new Error(\"Failed to fetch data\");\n    }\n    return responseJSON;\n  }\n  // } catch (error) {\n  //       console.error('Error with fetching:' +error)\n  // }\n//}\n\n// trending-all \nexport const trendingAll = async () => {\n\n  const params = 'https://api.themoviedb.org/3/trending/all/day';\n  const trending = await fetchData(params);\n  return trending.results\n\n}\n\n// search movie using keywords\nexport const searchMovie = async (query, page) => {\n\n  const params = `https://api.themoviedb.org/3/search/movie?query=${query}&page=${page}`;\n  const movies = await fetchData(params);\n  console.log(movies)\n  return movies;\n}\n\n// get the movie details \nexport const movieDetails = async (id) => {\n  const params = `https://api.themoviedb.org/3/movie/${id}`;\n  const details = await fetchData(params);\n  return details;\n}\n\n// get the informations about actors in movie\nexport const movieCredits = async (id) => {\n  const params = `https://api.themoviedb.org/3/movie/${id}/credits`;\n  const castObject = await fetchData(params);\n  console.log(castObject);\n  return castObject.cast;\n}\n\n// //get the movie reviews\n\nexport const movieReviews = async (id) => {\n\n  const params = `https://api.themoviedb.org/3/movie/${id}/reviews`;\n  const reviews = await fetchData(params);\n  console.log(reviews);\n  return reviews.results;\n\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchInput_form__5l7m6\",\"input\":\"SearchInput_input__pvo3q\",\"button\":\"SearchInput_button__a2oUc\"};","import css from \"./SearchInput.module.css\"\nexport const SearchInput = ({ onSubmit}) => {\n    return (\n        <form className={css.form} onSubmit={onSubmit}>\n                <input className = {css.input}\n                    type=\"text\"\n                    name=\"query\"\n                />\n            <button className={css.button }type=\"submit\">Search</button>\n            </form> \n    ) \n\n\n}","// extracted by mini-css-extract-plugin\nexport default {\"results\":\"SearchResults_results__avj5U\",\"result\":\"SearchResults_result__rgnT+\",\"pulse\":\"SearchResults_pulse__Kh2BM\",\"link\":\"SearchResults_link__MuWFg\"};","import { posterURL, placeholderImg } from \"components/API\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport css from \"./SearchResults.module.css\"\n\nexport const SearchResults = ({ queryResults }) => {\n    const location = useLocation();\n    return (\n        <ul className={css.results}> \n            {queryResults.map(({id, poster_path, title, name}) => (\n                <li key={id} className={css.result}>\n                    <Link className={css.link} to={`/movies/${id}`} state={{ from: location }}>\n                        <img\n                            src={poster_path ? `${posterURL}${poster_path}` : placeholderImg}\n                            alt={`Poster of film: ${title || name}`}\n                            width=\"200\" />\n                    <p>{title || name}</p>\n                    </Link>\n\n                </li>\n            ))}\n        </ul>\n    )\n\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"load\":\"LoadMore_load__ZTs3I\"};","import PropTypes from 'prop-types';\nimport css from \"./LoadMore.module.css\"\n\nexport const LoadMore = ({ disabled, onClick }) => {\n\n    return (\n        <>\n            <button className={css.load}  disabled={disabled} onClick={onClick}>{disabled? \"End of results\" : \"Load more\" }</button>\n        </>\n    )\n\n\n\n};\n\nLoadMore.propTypes = {\n    loadMore: PropTypes.func,\n    \n}","import { useState, useEffect } from \"react\";\nimport { searchMovie } from \"components/API\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { SearchInput } from \"components/SearchInput/SearchInput\";\nimport { SearchResults } from \"components/SearchResults/SearchResults\";\nimport { LoadMore } from \"components/LoadMore/LoadMore\";\n//import { Loader } from \"components/Loader/Loader\";\n\nconst Movies = () => {\n\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get(\"query\")\n\n    const [queryResults, setQueryResults] = useState([]);\n    console.log(queryResults)\n    const [page, setPage] = useState(1);\n    const [disabledButton, setDisabledButton] = useState(true);\n    const [totalPage, setTotalPage] = useState(0);\n    // const [isLoading, setIsLoading] = useState(false);\n    \n\n    useEffect(() => {\n\n        if (!query) return;\n        //setIsLoading(true);\n\n        searchMovie(query, page)\n            .then(data => {\n                //if less than 20 results, turn off the more button\n                if (data.results.length < 20) {\n                    setQueryResults(data.results);\n                    setDisabledButton(true);\n                } else if (page === 1) {\n                    setDisabledButton(false);\n                    setQueryResults(data.results);\n                    setTotalPage(() => data.total_pages)\n\n                } else {\n                    setQueryResults(data.results)\n                }\n            \n            })\n            .catch(error => console.error(error));\n        \n        //setTimeout(() => { setIsLoading(false) }, 1000);\n\n    }, [query, page]\n    );\n\n    \n    //load more images\n        const loadMore = () => {\n        setPage(page => page + 1);\n        setTotalPage(totalPage => totalPage - 1);\n  }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const form = e.currentTarget;\n        setSearchParams({ query: form.elements.query.value });\n        setPage(1);\n        form.reset()\n    }\n\n    return (\n        <>\n            <SearchInput onSubmit={handleSubmit} />\n            {<SearchResults queryResults={queryResults} />}\n            {totalPage !== 0 && <LoadMore disabled={disabledButton} onClick={loadMore} />}\n        </>\n    )\n}\n\nexport default Movies;"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","placeholderImg","posterURL","options","method","headers","accept","Authorization","fetchData","_ref","_regeneratorRuntime","_callee","url","response","responseJSON","_context","prev","next","fetch","sent","console","log","json","ok","Error","abrupt","stop","_x","trendingAll","_ref2","_callee2","trending","_context2","results","searchMovie","_ref3","_callee3","query","page","params","movies","_context3","concat","_x2","_x3","movieDetails","_ref4","_callee4","id","details","_context4","_x4","movieCredits","_ref5","_callee5","castObject","_context5","cast","_x5","movieReviews","_ref6","_callee6","reviews","_context6","_x6","SearchInput","onSubmit","_jsxs","className","css","children","_jsx","type","name","SearchResults","queryResults","location","useLocation","map","poster_path","title","Link","to","state","from","src","alt","width","LoadMore","disabled","onClick","_Fragment","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","get","_useState","useState","_useState2","setQueryResults","_useState3","_useState4","setPage","_useState5","_useState6","disabledButton","setDisabledButton","_useState7","_useState8","totalPage","setTotalPage","useEffect","data","length","total_pages","catch","e","preventDefault","form","currentTarget","elements","reset"],"sourceRoot":""}